<form name="form" novalidate><div class="row"><div class="col-sm-8"><h4 class="modal-title" translate>Register of Contracts & Engagements</h4></div><div class="col-sm-4"><a  ng-href=""class="sw-btn--subtle sw-btn--md pull-right" ng-click="$parent.toggleOverlay()"><i class="glyphicon glyphicon-remove"></i><translate>Back</translate></a><a  ng-href=""class="sw-btn--subtle sw-btn--md pull-right"ng-click="export('pdf')"ng-show="permissions.isPrintAllowed"><span class="glyphicon glyphicon-print"></span><translate>Print</translate></a></div></div><div class="row"><div class="col-sm-12" dropdown is-open="addressPickerOpenStatus.isopen"><label class="fl-frm__lbl"><input requiredname="Name"fl-labelplaceholder="{{'Name of Contractor' | translate}}"ng-model="updateContEng.Name" /><button type="button"class="fl-frm__lbl--btn dropdown-toggle" ng-click="toggleDropdown($event)"><i class="glyphicon glyphicon-user"></i></button></label><div ng-messages="form.Name.$touched && form.Name.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div><ul class="dropdown-menu col-sm-6 pull-right sw-address-book-dropdown"role="menu"ng-click="$event.stopPropagation();"><li class="col-sm-12 pull-right"><sw-address-book-picker address-book-options = "{{addressBookConfig}}"ng-model="updateContEng.Name"model-base="updateContEng"model-sub="Name"></sw-address-book-picker></li></ul></div><div class="col-sm-12"><input fl-labelrequiredname="StAddress"placeholder="{{'Street Address' | translate}}"ng-model="updateContEng.StAddress"><div ng-messages="form.StAddress.$touched && form.StAddress.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-12"><div class="row"><div class="col-sm-8"><sw-suburb-state unique-id="address1"placeholder="{{'Emirate' | translate}}"ng-model="updateContEng.City"></sw-suburb-state></div><div class="col-sm-4"><sw-post-codes unique-id="address1"placeholder="{{'Area' | translate}}"ng-model="updateContEng.Postcode"></sw-post-codes></div></div></div><div class="col-sm-12"><div class="clearfix line"></div><input type="checkbox"fl-checkng-model="updateContEng.IssueInfoCert"label="{{'Service Provided by Owners Association' | translate}}"><div class="clearfix line"></div></div><div class="col-sm-6"><select ng-model="updateContEng.type"fl-selectfl-lead="{{'Select a type of contractor' | translate}}"fl-tip="{{'Type of contractor' | translate}}"><option ng-repeat="item in ntypeList"ng-selected="{{item.license_type === updateContEng.type}}">{{item.license_type}}</option></select></div><div class="clearfix"></div><div class="col-sm-4"><input  type="radio"ng-model="updateContEng.BCMorCON"ng-checked="updateContEng.BCMorCON === false"fl-radiovalue="false"data-label="{{'Contract for Work' | translate}}"/></div><div class="col-sm-4"><input  type="radio"ng-model="updateContEng.BCMorCON"ng-checked="updateContEng.BCMorCON === true"fl-radiovalue="true"data-label="{{'Provision of Service' | translate}}"/></div><div class="clearfix"></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelrequiredminlength="5"name="dateOfContract"placeholder="{{'Date Of Contract Or Agreement' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.contractdate"max-date="{{tomorrow}}"is-open="contractDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="contractDateOpened=true;"ng-focus="contractDateOpened=true;" /><button ng-click="contractDateOpened=!contractDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label><div ng-messages="form.dateOfContract.$touched && form.dateOfContract.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelplaceholder="{{'Resolution' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.recorddate"max-date="{{tomorrow}}"is-open="recordDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="recordDateOpened=true;"ng-focus="recordDateOpened=true;"/><button ng-click="recordDateOpened=!recordDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelplaceholder="{{'Period From' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.StartDate"max-date="{{tomorrow}}"is-open="startDateDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="startDateDateOpened = true;"ng-focus="startDateDateOpened = true;" /><button ng-click="startDateDateOpened=!startDateDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelplaceholder="{{'Period To' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.PaidTo"max-date="{{tomorrow}}"is-open="paidToDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="paidToDateOpened = true;"ng-focus="paidToDateOpened = true;" /><button ng-click="paidToDateOpened=!paidToDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="col-sm-12"><textarea   fl-labelrows="8"placeholder="{{'Term of Contract' | translate}}"ng-model="updateContEng.term"></textarea></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelplaceholder="{{'Review Date' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.ReviewDate"max-date="{{tomorrow}}"is-open="reviewDateDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="reviewDateDateOpened = true;"ng-focus="reviewDateDateOpened = true;" /><button ng-click="reviewDateDateOpened=!reviewDateDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="clearfix"></div><div class="col-sm-6"><input fl-labelrequiredmin="0"ng-model-options="{updateOn: 'keydown', debounce: {'keydown': 600}}"name="Fee"placeholder="{{'Amount of Contract' | translate}}"sw-currencyarabic-numeralsng-model="updateContEng.Fee"><div ng-if="form.Fee.$dirty && form.Fee.$error.integer"class="alert alert-warning"><translate>Arabic numerals are not yet supported. please use roman numerals</translate></div></div><div class="col-sm-6"><input fl-labelrequiredng-minlegtnh="1"name="NoOfPayments"ng-pattern="/^([0-9]{1,4})?$/"maxlength="4"arabic-numeralsplaceholder="{{'Over Payments' | translate}}"fl-tip="{{'The number of months exp: 6 or 01'}}"ng-model="updateContEng.NoOfPayments"><div ng-messages="form.NoOfPayments.$touched && form.NoOfPayments.$error"ng-messages-include="/swapp/common-partials/form-errors.html"><div ng-message="pattern" class="fl-label__txt--errors"><translate>The number of payments should be a number</translate></div><div ng-if="form.NoOfPayments.$dirty && form.NoOfPayments.$error.integer"class="alert alert-warning"><translate>Arabic numerals are not yet supported. please use roman numerals</translate></div></div></div><div class="col-sm-12"><textarea   fl-labelrequiredminlength="3"rows="8"name="briefdescription"placeholder="{{'Brief Description' | translate}}"ng-model="updateContEng.briefdescription"></textarea><div ng-messages="form.briefdescription.$touched && form.briefdescription.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-6"><select  fl-selectname="contractStatus"fl-tip="{{'Status of Contract' | translate}}"fl-lead="{{'Select the status of Contract' | translate}}"ng-model="updateContEng.status"><option value="Current" translate>Current</option><option value="Proposed" translate>Proposed</option><option value="Ceased" translate>Ceased</option></select></div><div class="col-sm-6"><label class="fl-frm__lbl"><input  type="text"fl-labelplaceholder="{{'Termination Date' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateContEng.TermDate"max-date="{{tomorrow}}"is-open="isDateToOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="isDateToOpened = true;"ng-focus="isDateToOpened = true;" /><button ng-click="isDateToOpened=!isDateToOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Summary of contract' | translate}}"rows="8"ng-model="updateContEng.Duties"></textarea></div><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Area of Common Arreas Affected' | translate}}"rows="8"ng-model="updateContEng.description"></textarea></div><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Notes' | translate}}"rows="8"ng-model="updateContEng.note"></textarea></div></div><div class="row"><div class="col-sm-9"><div ng-if="form.$dirty && form.$invalid"><div class="alert alert-danger"><p ng-show="form.$invalid && form.$error"><i class="glyphicon glyphicon-flash"></i><translate>We're almost there, please fix the above * required fields</translate></p><div ng-show="form.Name.$touched && form.Name.$invalid"><translate>* We need the name of the contractor</translate></div><div ng-show="form.StAddress.$touched && form.StAddress.$invalid"><translate> * We need the street address of the contractor</translate></div><div ng-show="form.Oname.$touched && form.Oname.$invalid"><translate>* You should select a type of contractor</translate></div><div ng-show="form.dateOfContract.$touched && form.dateOfContract.$invalid"><translate>* We need the date of contract or agreement</translate></div><div ng-show="form.Fee.$touched && form.Fee.$invalid"><translate>* We need the amount of the contract</translate></div><div ng-show="form.NoOfPayments.$touched && form.NoOfPayments.$invalid"><translate>* We need the number of payements of the contract</translate></div><div ng-show="form.briefdescription.$touched && form.briefdescription.$invalid"><translate>* We need the brief description</translate></div><div ng-show="form.contractStatus.$touched && form.contractStatus.$invalid"><translate>* We need the status of the contract</translate></div></div></div></div><div class="col-sm-3"><button class="sw-btn sw-btn--lg sw-btn--success pull-right"ng-show="permissions.isSaveAllowed"ng-disabled="form.$invalid || !form.$dirty"ng-click="saveContEng()"><i class="glyphicon glyphicon-floppy-disk mar-right-5"></i><translate>Save</translate></button></div></div></form>