<form name="form" novalidate><div class="row"><div class="col-sm-8"><h4 class="modal-title" translate>Add New</h4></div><div class="col-sm-4"><button class="sw-btn sw-btn--subtle sw-btn--md pull-right"ng-click="$parent.toggleOverlay()"><i class="glyphicon glyphicon-remove"></i><translate>Back</translate></button><button class="sw-btn sw-btn--subtle sw-btn--md pull-right"ng-click="$parent.toggleOverlay()"ng-if="permissions.isPrintAllowed"><i class="glyphicon glyphicon-print"></i><translate>Print</translate></button></div></div><div class="row"><div class="form-group"><div class="col-sm-12"><input type="text"requiredminlength="3"fl-labelname="title"placeholder="{{'Title' | translate}}"ng-model="insurance.title"><div ng-messages="form.title.$touched && form.title.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-6"><label class="fl-frm__lbl"><input type="text"fl-labelplaceholder="{{'Submitted' | translate}}"datepicker-popup="{{dateFormat}}"ng-model="insurance.sdate"is-open="openedSubmitted"ng-click="openedSubmitted=true;$event.preventDefault();"/><button ng-click="openedSubmitted=!openedSubmitted;$event.preventDefault();$event.stopPropagation()" class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-12"><select fl-selectfl-lead="{{'Select Insurance Claim Type' | translate}}"fl-tip="{{'Insurance Claim Type' | translate}}"ng-model="insurance.ntype"><option ng-repeat="claim in claims.types"value="{{claim.title}}">{{claim.title}}</option></select></div></div><div class="clearfix"></div><div class="form-group"><div><div class="col-sm-3"><input type="radio"fl-radiodata-label="{{'Impending' | translate}}"value="Impending"ng-model="insurance.status"></div><div class="col-sm-3"><input type="radio"fl-radiovalue="Proceeding"data-label="{{'Proceeding' | translate}}"ng-model="insurance.status"></div><div class="col-sm-3"><input type="radio"fl-radiodata-label="{{'Processing' | translate}}"value="Processing"ng-model="insurance.status"></div><div class="col-sm-3"><input type="radio"fl-radiodata-label="{{'Resolved' | translate}}"value="Resolved"ng-model="insurance.status"></div></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-6"><label class="fl-frm__lbl"><input type="text"fl-labelplaceholder="{{'Date of loss' | translate}}"datepicker-popup="{{dateFormat}}"ng-model="insurance.rdate"is-open="openedDateOfLoss"ng-click="openedDateOfLoss=true;$event.preventDefault();"/><button ng-click="openedDateOfLoss=!openedDateOfLoss;$event.preventDefault();$event.stopPropagation()"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-6"><input type="text"fl-labelrequiredname="amountc"sw-currencyarabic-numeralsmin="0"name="claimamount"ng-model-options="{updateOn: 'keydown', debounce: {'keydown': 400}}"placeholder="{{'Amount Claimed' | translate}}"ng-model="insurance.claimamount"><div ng-messages="form.claimamount.$invalid && form.claimamount.$touched"ng-messages-include="/swapp/common-partials/form-errors.html"><div ng-if="form.claimamount.$dirty && form.claimamount.$error.integer"class="alert alert-warning"><translate>Arabic numerals are not yet supported. please use roman numerals</translate></div></div></div><div class="col-sm-6"><label class="fl-frm__lbl"><input type="text"fl-labelplaceholder="{{'Resolved' | translate}}"datepicker-popup="{{dateFormat}}"ng-model="insurance.resdate"is-open="openedResolved"ng-click="openedResolved=true;$event.preventDefault();"/><button ng-click="openedResolved=!openedResolved;$event.preventDefault();$event.stopPropagation()"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Circomstances' | translate}}"rows="10"ng-model="insurance.circumstance"></textarea></div></div><div class="clearfix"></div><div class="form-group"><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Resolution' | translate}}"rows="10"ng-model="insurance.resolution"></textarea></div></div><div class="form-group"><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Description of the property loss or damage' | translate}}"rows="20"ng-model="insurance.description"></textarea></div></div><div class="form-group"><div class="col-sm-12"><div class="clearfix line"></div><label class="fl-frm__lbl"><input type="text"fl-labelplaceholder="{{'Policy Number' | translate}}"ng-model="insurance.policynumber"><button class="fl-frm__lbl--btn" ng-click="policyDropdown=!policyDropdown"><span class="glyphicon glyphicon-chevron-down"></span></button></label><div class="search-suggestions-dropdown" ng-show="policyDropdown" ng-click="policyDropdown=false"><div class="search-suggestion-item"ng-repeat="item in policyNumbers"ng-click="insurance.policynumber=item.Policy;">{{item.Policy | translate}}</div></div></div></div><div class="form-group"><div class="col-sm-12"><input type="text"fl-labelplaceholder="{{'Broker Details' | translate}}"rows="10"ng-model="insurance.broker"></div></div><div class="form-group"><div class="col-sm-12"><input type="text"fl-labelplaceholder="{{'Underwriter' | translate}}"rows="10"ng-model="insurance.underwriter"></div></div><div class="form-group"><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Contact' | translate}}"rows="10"ng-model="insurance.brokercontact"></textarea></div></div><div class="form-group"><div class="col-sm-12"><div class="clearfix line"></div><textarea fl-labelplaceholder="{{'If known, provide the names of the responsibles' | translate}}"rows="10"ng-model="insurance.responsible"></textarea></div></div><div class="form-group"><div class="col-sm-12"><div class="clearfix line"></div><textarea fl-labelplaceholder="{{'If known, provide any names of witnesses' | translate}}"rows="10"ng-model="insurance.witness"></textarea></div></div><div class="form-group"><div class="col-sm-12"><div class="clearfix line"></div><input type="checkbox"fl-checklabel="{{'Reported to Police?' | translate}}"ng-model="insurance.reportedtopolice"></div></div><div ng-show="insurance.reportedtopolice"><div class="form-group"><div class="col-sm-6"><label class="fl-frm__lbl"><input type="text"fl-labelplaceholder="{{'Date and time?' | translate}}"datepicker-popup="{{dateFormat}}"ng-model="insurance.rtpdate"is-open="openedDateTime"close-text="Close"ng-click="openedDateTime=true;$event.preventDefault();"/><button ng-click="openedDateTime=!openedDateTime;$event.preventDefault();$event.stopPropagation()" class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label></div></div><div class="form-group"><div class="col-sm-12"><input type="checkbox"fl-checklabel="{{'Is there a police report?' | translate}}"value="1"ng-model="insurance.ispolicereport"></div></div><div class="form-group"><div class="col-sm-12"><input type="text"fl-labelplaceholder="{{'Station name' | translate}}"ng-model="insurance.policestation"></div></div><div class="form-group"><div class="col-sm-6"><input type="text"fl-labelplaceholder="{{'Report Number' | translate}}"ng-model="insurance.prnumber"></div></div><div class="form-group"><div class="col-sm-6"><input type="text"fl-labelplaceholder="{{'Police Officer' | translate}}"ng-model="insurance.policeofficer"></div></div><div class="form-group"><div class="col-sm-12"><textarea fl-labelplaceholder="{{'Report Notes' | translate}}"rows="10"ng-model="insurance.prnote"></textarea></div></div></div></div><div class="row" ng-if="permissions.isSaveAllowed"><div class="col-md-9"><div ng-if="form.$dirty && form.$invalid"><div class="alert alert-danger"><p ng-show="form.$invalid && form.$error"><i class="glyphicon glyphicon-flash"></i><translate>We're almost there, please fix the above * required fields</translate></p><div ng-show="form.title.$touched && form.title.$invalid"><translate>* We need a title for the insurance claim</translate></div><div ng-show="form.amountc.$touched && form.amountc.$invalid"><translate>* We need a valid amount of this claim</translate></div></div></div></div><div class="col-md-3"><button class="sw-btn sw-btn--lg sw-btn--success pull-right"ng-disabled="form.$invalid || !form.$dirty"ng-click="$parent.toggleOverlay();save(); resetForm(form);"><i class="glyphicon glyphicon-floppy-disk mar-right-5"></i><translate>Save</translate></button></div></div></form>