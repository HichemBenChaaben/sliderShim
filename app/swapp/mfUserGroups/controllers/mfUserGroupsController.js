define(["swapp","/swapp/directives/tree-grid/tree-grid-directive.js"],function(e){e.registerController("mfUserGroupsController",["$scope","$state","$rootScope",function(e,n,r){e.permissions=e.$parent.modPermissions,e.pageTranslations=e.$parent.modTranslations,e.exceptions=e.$parent.modExceptions;var a;e.$on("setModTranslations",function(n){e.translations=e.$parent.modTranslations}),e.listUserGroups=[{name:"User Group1",id:"123"},{name:"User Group2",id:"123"},{name:"User Group3",id:"123"},{name:"User Group4",id:"123"},{name:"User Group5",id:"123"},{name:"User Group6",id:"123"},{name:"User Group7",id:"123"},{name:"User Group8",id:"123"},{name:"User Group9",id:"123"}],e.selectedGroup=e.listUserGroups[0],e.isUserGrpSelected=!0,e.getTree=function(e,n,r){if(!e||0==e.length||!n||!r)return[];for(var a,s,i=[],l=[],t=e[0],o=t[n],p={},m=e.length,d=0;m>d;)t=e[d++],o=t[n],p[o]=t,a=t[r],t.expanded=!1,a?(s=p[a],s?s.children?s.children.push(t):s.children=[t]:l.push(o)):l.push(o);for(var d=0;d<l.length;d++)p[l[d]].expanded=!1,i.push(p[l[d]]);return i},e.insertChildItems=function(e,n,r,a){for(var s=0;s<n.length;s++){var i={};i.itemId=100*e+(s+1),i.module=n[s].module,i.parentId=r,i.name=n[s].displayname,a.push(i)}return a},e.parseMenuData=function(){for(var n=r.menuList.vertmenu,a=[],s=0;s<n.length;s++)if(1===n[s].submenu.length){var i={};i.itemId=5*(s+1),i.module=n[s].module,i.parentId=null,i.name=n[s].displayname,a.push(i)}else{var i={};i.itemId=5*(s+1),i.module=n[s].module,i.parentId=null,i.name=n[s].displayname,a.push(i);for(var l=0;l<n[s].submenu.length;l++){var t={};if(t.itemId=l+10*s,t.module=n[s].submenu[l].module,t.parentId=n[s].module,t.name=n[s].submenu[l].displayname,a.push(t),n[s].submenu[l].hasOwnProperty("submenu")){var o=l+1+10*(s+1);a=e.insertChildItems(o,n[s].submenu[l].submenu,n[s].submenu[l].module,a)}}}var p=e.getTree(a,"module","parentId");e.userGroupTreeData=p},e.parseMenuData(),e.viewPermissionTemplate='<div><input tabindex="-1" type="checkbox" ng-model="row.branch[col.field]" ng-click="clickOnCheckbox(row.branch[col.field],row,row.branch,col.field)" /></div>',e.userGroupTree=a={},e.expanding_property={field:"name",displayName:e.pageTranslations.mfUserGroupsModName},e.col_defs=[{field:e.pageTranslations.all,cellTemplate:e.viewPermissionTemplate},{field:e.pageTranslations.create,cellTemplate:e.viewPermissionTemplate},{field:e.pageTranslations.read,cellTemplate:e.viewPermissionTemplate},{field:e.pageTranslations.update,cellTemplate:e.viewPermissionTemplate},{field:e.pageTranslations["delete"],cellTemplate:e.viewPermissionTemplate},{field:e.pageTranslations.print,cellTemplate:e.viewPermissionTemplate}],e.onBranchSelect=function(e){}}])});