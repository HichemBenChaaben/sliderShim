<form name="userForm" novalidate><div class="row"><div class="col-sm-8"><h4 class="modal-title" ng-if="modal.newPage"><translate>Register of Assets</translate></h4><h4 class="modal-title" ng-if="!modal.newPage"><translate>Edit</translate></h4></div><div class="col-sm-4"><button class="sw-btn sw-btn--subtle sw-btn--md pull-right" ng-click="cancel()"><i class="pull-left glyphicon glyphicon-remove pad-top-2 pad-right-5"></i><translate>Back</translate></button><button class="sw-btn sw-btn--subtle sw-btn--md pull-right"ng-click="export('pdf')"ng-if="!modal.newPage"ng-show="permissions.isPrintAllowed"><i class="glyphicon glyphicon-print"></i><translate>Print</translate></button></div></div><div class="row"><div class="col-sm-6"><label class="fl-frm__lbl"><input  class="fl-frm__el fl-frm__el--txt"fl-labelrequiredname="PerDate"minlength="4"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"placeholder="{{'Date of Acquisitions' | translate}}"datepicker-popup="{{$parent.dateFormat}}"date-disabled="disabled(date)"ng-model="updateAssets.PerDate"max-date="{{tomorrow}}"is-open="isDateOpened"close-text="{{pageTranslations.close}}"ng-click="isDateOpened = true;"ng-focus="isDateOpened = true;" /><button type="button"ng-click="isDateOpened=!isDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label><div ng-messages="userForm.PerDate.$error" ng-messages-include="/swapp/common-partials/form-errors.html"><div ng-message="minlength" class="fl-label__txt--errors"><translate>Please enter a valid date.</translate></div></div></div><div class="col-sm-6"><input fl-labeltype="text"name="Cost"requiredplaceholder="{{'Asset Cost' | translate}}"sw-currencyarabic-numeralsmin="0.00"fl-tip="{{'We need a precision of 2 numbers for the asset cost. exp: 200.99. This field is autoformatting for you' | translate}}"ng-model-options="{ updateOn: 'keydown', debounce: {'keydown': 600} }"ng-model="updateAssets.Cost"/><div ng-messages="userForm.Cost.$invlid && userForm.Cost.$touched"ng-messages-include="/swapp/common-partials/form-errors.html"><div ng-if="form.Fee.$dirty && form.Fee.$error.integer"class="alert alert-warning"><translate>Arabic numerals are not yet supported. please use roman numerals</translate></div></div></div><div class="col-sm-12"><textarea fl-labelrequiredname="Description"placeholder="{{'Brief Description of the Asset' | translate}}"ng-model="updateAssets.Description"rows="5"></textarea><div ng-messages="userForm.Description.$touched && userForm.Description.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><hr class="col-sm-12"><div class="col-sm-12" dropdown is-open="addressPickerOpenStatus.isopen"><label class="fl-frm__lbl"><input fl-labelrequiredname="Oname"minlength="3"placeholder="{{'Received From' | translate}}"ng-model="updateAssets.Oname" /><button type="button" class="fl-frm__lbl--btn dropdown-toggle"ng-click="toggleDropdown($event)"><i class="glyphicon glyphicon-user"></i><div ng-if="yourForm.Oname.$pending">...</div></button></label><ul class="dropdown-menu col-sm-6 pull-right sw-address-book-dropdown"role="menu"ng-click="$event.stopPropagation();"><li class="col-sm-12 pull-right"><sw-address-book-picker address-book-options="{{addressBookConfig}}"ng-model="updateAssets.Oname"model-base="updateAssets"model-sub="Oname"></sw-address-book-picker></li></ul><div ng-messages="userForm.Oname.$touched && userForm.Oname.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-12"><input fl-labelrequiredname="streetAddr"placeholder="{{'Street Address' | translate}}"value="{{updateAssets.OStAddress}}"ng-model="updateAssets.OStAddress" /><div ng-messages="userForm.streetAddr.$touched && userForm.streetAddr.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-12"><div class="row"><div class="col-sm-8"><sw-suburb-state unique-id="address1"placeholder="{{'Emirate' | translate}}"ng-model="updateAssets.OCity"></sw-suburb-state></div><div class="col-sm-4"><sw-post-codes unique-id="address1"placeholder="{{'Area' | translate}}"ng-model="updateAssets.OPostc"></sw-post-codes></div></div></div><hr class="col-sm-12"><div class="col-sm-12" ><input type="checkbox"fl-checkng-model="updateAssets.GorP"label="{{'the Asset is a Gift' | translate}}" /></div><div class="col-sm-6" ><input fl-labelrequiredname="disposedto"placeholder="{{'Person to whom the asset disposed' | translate}}"value="{{updateAssets.disposedto}}"ng-model="updateAssets.disposedto"><div ng-messages="userForm.disposedto.$touched && userForm.disposedto.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-6"  ><label class="fl-frm__lbl"><input  fl-labelrequiredname="DisDate"minlength="4"placeholder="{{'Disposal Date' | translate}}"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateAssets.DisDate"max-date="{{tomorrow}}"is-open="isDateToOpened"close-text="{{pageTranslations.close}}"ng-click="isDateToOpened = true;"ng-focus="isDateToOpened = true;" /><button type="button" ng-click="isDateToOpened=!isDateToOpened;$event.preventDefault();$event.stopPropagation();" class="fl-frm__lbl--btn"><span class="glyphicon glyphicon-calendar"></span></button></label><div ng-messages="userForm.DisDate.$error" ng-messages-include="/swapp/common-partials/form-errors.html"><div ng-message="minlength" class="fl-label__txt--errors"><translate>Please pick a date from the date picker</translate></div></div></div></div><div ng-if="permissions.isSaveAllowed"><div class="row"><div class="col-sm-9"><div ng-if="userForm.$dirty && userForm.$invalid"><div class="alert alert-danger"><p ng-show="userForm.$invalid && userForm.$error"><i class="glyphicon glyphicon-flash"></i><translate>We're almost there, please fix the above * required fields</translate></p><div ng-show="userForm.Description.$touched && userForm.Description.$invalid"><translate>* We need a description of the asset</translate></div><div ng-show="userForm.PerDate.$touched && userForm.PerDate.$invalid"><translate> * We need a valid date of aquisition</translate></div><div ng-show="userForm.Oname.$touched && userForm.Oname.$invalid"><translate>* You should select a contact from the address book</translate></div><div ng-show="userForm.streetAddr.$touched && userForm.streetAddr.$invalid"><translate>* You should enter a street address</translate></div><div ng-show="userForm.disposedto.$touched && userForm.disposedto.$invalid"><translate>* You should add the name of the person to whom the asset is disposed to</translate></div><div ng-show="userForm.DisDate.$touched && userForm.DisDate.$invalid"><translate>* We need a valid disposal date</translate></div></div></div></div><div class="col-sm-3"><button type="submit"class="sw-btn sw-btn--lg sw-btn--success pull-right mar-top-15"ng-click="saveAssets(userForm.$valid, userForm)"ng-disabled="userForm.$invalid || !userForm.$dirty"><i class="glyphicon glyphicon-floppy-disk mar-right-5"></i><translate>Save</translate></button></div></div></div></form>