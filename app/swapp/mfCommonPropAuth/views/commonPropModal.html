<div class="sw-mainheading"><h1 class="col-sm-9"><translate>Register of Common Property Authorities & Dealings</translate></h1><span class="pull-right"><a class="btn pull-right sw-btn sw-btn--md sw-btn--subtle mar-left-5"ng-click="cancel()"><i class="glyphicon glyphicon-remove"></i><translate>Back</translate></a><a ng-show="newform !== 'new' && permissions.isPrintAllowed"class="btn pull-right sw-btn sw-btn--md sw-btn--subtle mar-right-5 no-animate"><i class="glyphicon glyphicon-print"></i><translate>Print</translate></a></span></div><form name="detailsForm"  novalidate><div class="row"><div class="col-sm-12"><select fl-selectrequiredname="type"fl-lead="{{'Please select an item' | translate}}"fl-tip="{{'Property Authority Type' | translate}}"ng-model="updateCommonAuth.type"ng-change="propertyAuth()"><option ng-repeat="item in property_auths"value="{{item}}"ng-selected="{{item === updateCommonAuth.type}}">{{item | translate}}</option></select></div><div class="col-sm-12" ng-show="selectOwner"><select fl-selectng-required="selectOwner"name="Lot"fl-lead="{{'Lot number' | translate}}"fl-tip="{{'Lot number' | translate}}"ng-model="updateCommonAuth.Lot"ng-change="lotOwnerFullDetails()"><option ng-repeat="lot in lotList track by $index" value="{{lot.Lot}}">{{lot.Unit}}</option></select></div><div class="col-sm-12"><hr><div dropdown is-open="addressPickerOpenStatus.isopen"><label class="fl-frm__lbl"><input  requiredname="OthName"fl-labelplaceholder="{{'Name' | translate}}"ng-disabled="selectOwner"ng-model="updateCommonAuth.OthName" /><span   type="button"class="fl-frm__lbl--btn dropdown-toggle"ng-click="toggleDropdown($event)"ng-hide="selectOwner"><i class="glyphicon glyphicon-user"></i></span><span   type="button"class="fl-frm__lbl--btn dropdown-toggle"ng-click="showOwnerDetails($event)"ng-show="selectOwner"><i class="glyphicon glyphicon-search"></i></span></label><ul class="dropdown-menu col-sm-6 pull-right sw-address-book-dropdown"role="menu"ng-click="$event.stopPropagation();"><li class="col-sm-12 pull-right"ng-hide="selectOwner"><sw-address-book-picker address-book-options="{{addressBookConfig}}"ng-model="updateCommonAuth.OthName"model-base="updateCommonAuth"model-sub="OthName"></sw-address-book-picker></li><li class="col-sm-12 pull-right" ng-show="selectOwner"><dl class="table no-margin dl-striped"><div  ng-repeat="detail in lotOwnerDetails  track by $index" class="row"><dt class="col-sm-3">{{detail.title}}</dt><dd class="col-sm-9">{{detail.content}}</dd></div></dl></li></ul></div></div><div class="col-sm-12"><input fl-labelplaceholder="{{'Street Address' | translate}}"ng-model="updateCommonAuth.OthStAddress"ng-disabled="selectOwner" ></div><div class="col-sm-12" ng-hide="selectOwner"><div class="row"><div class="col-sm-8"><sw-suburb-state unique-id="address1"placeholder="{{'Emirate' | translate}}"ng-model="updateCommonAuth.OthCity"ng-disabled="selectOwner" ></sw-suburb-state></div><div class="col-sm-4"><sw-post-codes unique-id="address1"placeholder="{{'Area' | translate}}"ng-model="updateCommonAuth.OthPostc"ng-disabled="selectOwner" ></sw-post-codes></div></div><hr></div><div class="col-sm-12" ng-show="selectOwner"><div class="row"><div class="col-sm-8"><input  fl-labelplaceholder="{{'Emirate' | translate}}"ng-model="updateCommonAuth.OthCity"ng-disabled="selectOwner" ></div><div class="col-sm-4"><input  fl-labelplaceholder="{{'Area' | translate}}"ng-model="updateCommonAuth.OthPostc"ng-disabled="selectOwner" ></div></div><hr></div><div class="col-sm-8"><select fl-selectfl-lead="{{'Authority Type' | translate}}"fl-tip="{{'Authority Type' | translate}}"ng-model="updateCommonAuth.authoritytype"><option ng-repeat="item in auth_types"value="{{item}}"ng-selected="{{item === updateCommonAuth.authoritytype}}">{{item | translate}}</option></select></div><div class="col-sm-4"><label class="fl-frm__lbl"><input  fl-labelrequiredname="RDate"class="fl-frm__el fl-frm__el--txt"datepicker-popup="{{$parent.dateFormat}}"ng-model="updateCommonAuth.RDate"max-date="{{tomorrow}}"is-open="isDateOpened"close-text="{{'Close' | translate}}"current-text="{{'Today'| translate}}"clear-text="{{'Clear' | translate}}"ng-click="isDateOpened = true;"ng-focus="isDateOpened = true;"placeholder="{{'Date of Resolution' | translate}}" /><button type="button"ng-click="isDateOpened=!isDateOpened;$event.preventDefault();$event.stopPropagation();"class="fl-frm__lbl--btn"><i class="glyphicon glyphicon-calendar"></i></button></label><div ng-messages="detailsForm.RDate.$dirty && detailsForm.RDate.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><hr><div class="col-sm-12"><select fl-selectfl-lead="{{'Nature of Authority' | translate}}"fl-tip="{{'Nature of Authority' | translate}}"ng-model="updateCommonAuth.nature"><option ng-repeat="item in nature_of_auth"value="{{item}}"ng-selected="{{item === updateCommonAuth.ntype}}">{{item | translate}}</option></select></div><div class="col-sm-12"><textarea fl-labelrequiredname="Area"placeholder="{{'Area of Common Property Affected' | translate}}"ng-model="updateCommonAuth.Area"rows="8"></textarea><div ng-messages="detailsForm.Area.$dirty && detailsForm.Area.$error"ng-messages-include="/swapp/common-partials/form-errors.html"></div></div><div class="col-sm-12"><textarea  fl-labelng-model="updateCommonAuth.Conditions"placeholder=" {{'Conditions imposed (if any)' | translate}}"rows="8"></textarea></div><div class="col-sm-12"><textarea fl-labelng-model="updateCommonAuth.Description"placeholder=" {{'Description' | translate}}"rows="8"></textarea></div><div class="col-sm-12" ng-show="selectOwner"><accordion><accordion-group is-open="updateLots.lotListOpen"ng-switch="updateLots.lotResult"class="mar-top-15"><accordion-heading class="accordion"><translate>Authorised Lots</translate><i class="glyphicon pull-right"ng-class="{'glyphicon-chevron-down': updateLots.lotListOpen, 'glyphicon-chevron-right': !updateLots.lotListOpen}"></i></accordion-heading><div ng-switch-when="true"><div class="col-md-12"><input  fl-checktype="checkbox"ng-model="selectAllDisplayLabel"ng-change="selectAll($event)"label="{{'Select All' | translate}}" /><hr></div></div><div ng-repeat="lot in lotList track by $index" ng-switch-when="true"><div class="col-sm-4"><input  fl-checktype="checkbox"ng-checked="lot.isSelected"ng-model="lot.isSelected"label="{{lot.buildingnumber ? lot.floor: lot.Unit}}" /></div></div><div ng-switch-when="false"><div ng-include="/swap/common-partials/empty-grid.html"></div></div></accordion-group></accordion></div></div></form><div class="row mar-bot-15"><div class="col-sm-8"><div ng-show="detailsForm.$invalid || !detailsForm.$dirty" ng-include="'/swapp/common-partials/invalid-form.html'"></div></div><div class="col-sm-4"><button class="sw-btn sw-btn--lg sw-btn--success pull-right"ng-disabled="detailsForm.$invalid || !detailsForm.$dirty"ng-click="saveCommonAuth()"><i class="glyphicon glyphicon-floppy-disk mar-right-5"></i><tranlsate>Save</tranlsate></button></div></div>